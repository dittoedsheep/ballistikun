# 概要
MTが円に入ることを許す前提で運用できる新ルールを考えてみる。  
従来の方法と比べたメリット、デメリットは以下の通り。  

メリット
* 各マーカーのアルゴリズムが簡潔に記述できる
* 黄1と鎖1、黄2と鎖2、黄3と鎖3の動きがほぼ同じ
* おのおのの判別の複雑さが分散されている

デメリット  
* マーカーペアのパターンが増えているため、判別に時間がかかる
* 従来MTが円を踏むことはなかったが、このルールでは踏むことがある
* 従来のルールからの移行が大変

# ルール
PTメンバー8人それぞれに以下のターゲットマーカーを割り振る。  
* 攻撃(Attack)マーカー1~3
* 足止め(Bind)マーカー1~3
* 禁止(Stop)マーカー1~2

以下、攻撃マーカー1~3を黄1~3、足止めマーカー1~3を鎖1~3、禁止マーカー1,2を禁1,2と呼ぶ。  

## パターン：黄×黄
二人の対象者のうち、番号が小さい方の対象者の円には禁1,2が順に入り、
番号が大きい方の対象者の円には鎖1,2が順に入る。

## パターン：鎖×鎖
二人の対象者のうち、番号が小さい方の対象者の円には黄1,2が順に入り、
番号が大きい方の対象者の円には禁1,2が順に入る。

## パターン：禁×禁
二人の対象者のうち、番号が小さい方の対象者の円には黄1,2が順に入り、
番号が大きい方の対象者の円には鎖1,2が順に入る。

## パターン：黄×鎖
黄の対象者には黄の番号が若い順に入り、鎖の対象者には鎖の番号が若い順に入る。

## パターン：禁×鎖
禁の対象者には黄1,2が順に入り、鎖の対象者には鎖の番号が若い順に入る。

## パターン：黄×禁
黄の対象者には黄の番号が若い順に入り、禁の対象者には鎖1,2が順に入る。

# アルゴリズム
それぞれのマーカーが円に入るか入らないかを決定するためのアルゴリズムを記す。  
ここでは自身がバリスティックミサイルの対象となっていないことを前提とする。

## 黄1
鎖×鎖の場合、番号が小さい方に入る。  
禁×禁の場合、番号が小さい方に入る。  
黄×鎖の場合、黄に入る。  
禁×鎖の場合、禁に入る。  
黄×禁の場合、黄に入る。

## 黄2
鎖×鎖の場合、番号が小さい方の円が大きければ入る。  
禁×禁の場合、番号が小さい方の円が大きければ入る。  
黄×鎖の場合、黄1が対象ならば入る。黄3が対象かつ大円のとき入る。  
禁×鎖の場合、禁の円が大きければ入る。  
黄×禁の場合、黄1が対象ならば入る。黄3が対象かつ大円のとき入る。

## 黄3
黄×鎖の場合、黄の円が大きければ入る。  
黄×禁の場合、黄の円が大きければ入る。

## 鎖1
黄×黄の場合、番号が大きい方に入る。  
禁×禁の場合、番号が大きい方に入る。  
黄×鎖の場合、鎖に入る。  
禁×鎖の場合、鎖に入る。  
黄×禁の場合、禁に入る。

## 鎖2
黄×黄の場合、番号が大きい方の円が大きければ入る。  
禁×禁の場合、番号が大きい方の円が大きければ入る。  
黄×鎖の場合、鎖1が対象ならば入る。鎖3が対象かつ大円のとき入る。  
禁×鎖の場合、鎖1が対象ならば入る。鎖3が対象かつ大円のとき入る。  
黄×禁の場合、禁の円が大きければ入る。

## 鎖3
黄×鎖の場合、鎖の円が大きければ入る。  
禁×鎖の場合、鎖の円が大きければ入る。

## 禁1
黄×黄の場合、番号が小さい方に入る。  
鎖×鎖の場合、番号が大きい方に入る。

## 禁2
黄×黄の場合、番号が小さい方の円が大きければ入る。  
鎖×鎖の場合、番号が大きい方の円が大きければ入る。

# 円に入る確率
それぞれのマーカーが円に入る確率を以下に示す。  
厳密には、自身がバリスティックミサイルの対象とならない、かつ自身が円に入る確率である。  
ここでの計は、対象者を除いた一度のバリスティックミサイルで円に乗る人数の期待値：3と等しくなる。

|  黄1  |  黄2  |  黄3  |  禁1  |  禁2  |  鎖1  |  鎖2  |  鎖3  |  計 |
|:------|-------|-------|-------|-------|-------|-------|-------|----:|
|  5/7  | 25/56 |  5/28 |  3/14 |  3/28 |  5/7  | 25/56 |  5/28 |  3  |
